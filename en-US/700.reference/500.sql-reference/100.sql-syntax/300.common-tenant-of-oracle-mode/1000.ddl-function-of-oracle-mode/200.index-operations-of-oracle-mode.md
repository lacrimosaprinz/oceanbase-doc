| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# Index operations

In the Oracle mode of OceanBase Database, you can create (or add), query, drop, and rename an index.

## Create/add an index

The syntax for creating (or adding) an index is as follows:

```sql
CREATE [UNIQUE] INDEX index_name 
    [USING BTREE] ON table_name (sort_column_key [, sort_column_key...]) 
    [index_option...] [partition_option];
```

where

* `index_name` specifies the name of the index to be created.
  
* `table_name` specifies the name of the table for which the index is to be created.
  
* `sort_column_key` specifies the key of a sorting column. When you create an index, you can specify multiple sorting columns and separate them by a comma (`,`).
  
* `index_option` specifies the index options. When you create an index, you can specify multiple index options and separate them by a space.
  
* `partition_option` specifies the options for creating index partitions. For detailed syntax information, see [CREATE INDEX](../900.sql-statement-of-oracle-mode/100.ddl-of-oracle-mode/1600.create-index-of-oracle-mode.md).

When you create an index for a certain table, you can still use the table for read, write, and insert operations.

Assuming that a table named `t1` already exists in the database. Now you want to create an index named `index1` on the `t1` table and specify to sort based on the `c1` column in ascending order, with null values appearing after non-null values in the sorting result. Here is an execution example:
  
```shell
obclient> CREATE INDEX index1 ON t1 (c1 ASC NULLS LAST);
```

## Query an index

You can use system views to query the following indexes:

* USER_INDEXES: Query information about indexes owned by the user for all tables. For more information, see [USER_INDEXES](../../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/15400.user_indexes-of-oracle-mode.md).

* ALL_INDEXES: Query all indexes for a table. For more information, see [ALL_INDEXES](../../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/1100.all_indexes-of-oracle-mode.md).

* DBA_INDEXES: Query information about indexes for all tables in the database. For more information, see [DBA_INDEXES](../../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/6800.dba_indexes-of-oracle-mode.md).

* ALL_IND_COLUMNS: Query information about index columns for all tables that the user can access. For more information, see [ALL_IND_COLUMNS](../../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/1200.all_ind_columns-of-oracle-mode.md).

* DBA_IND_COLUMNS: Query information about index columns for all tables in the database. For more information, see [DBA_IND_COLUMNS](../../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/6900.dba_ind_columns-of-oracle-mode.md).

* USER_IND_COLUMNS: Query detailed information about the indexes for a table. For more information, see [USER_IND_COLUMNS](../../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/15500.user_ind_columns-of-oracle-mode.md).

You can view different views based on different situations. Here is an example of how to view index details for table `t1`:

```shell
obclient> SELECT * FROM USER_IND_COLUMNS WHERE table_name='T1';
```

The output is as follows:

```shell
+--------------------------+------------+-------------+-----------------+---------------+-------------+---------+--------------------+
| INDEX_NAME               | TABLE_NAME | COLUMN_NAME | COLUMN_POSITION | COLUMN_LENGTH | CHAR_LENGTH | DESCEND | COLLATED_COLUMN_ID |
+--------------------------+------------+-------------+-----------------+---------------+-------------+---------+--------------------+
| INDEX1                   | T1         | C1          |               1 |            50 |          50 | ASC     |               NULL |
+--------------------------+------------+-------------+-----------------+---------------+-------------+---------+--------------------+
```

In the output:

* `INDEX_NAME`: The name of the index.

* `TABLE_NAME`: The name of the table where the index is located.

* `COLUMN_NAME`: The name of the column where the index is located.

* `COLUMN_POSITION`: The position of the column in the index.

* `COLUMN_LENGTH`: The length of the index column.

* `CHAR_LENGTH`: The character length of the index column.

* `DESCEND`: The sorting order of the index column.

## Drop an index

The syntax for dropping an index is as follows:

```sql
DROP INDEX [schema.]index_name;
```

For more information about the syntax, see [DROP INDEX](../900.sql-statement-of-oracle-mode/100.ddl-of-oracle-mode/3200.drop-index-of-oracle-mode.md).

When you drop an index from a table, you can still use the table for read and write operations.

Assuming there is a table named `t1` in the database and there exists an index `index1` on table `t1`, you can drop the index as follows:


```shell
obclient> DROP INDEX index1;
```

## Rename an index

The syntax for renaming an index is as follows:

```sql
ALTER INDEX [ schema.]index_name RENAME TO new_name;
```

where
  
* `index_name` specifies the name of the index to be renamed.
  
* `new_name` specifies the new name for the index after renaming.

For more information about the syntax, see [ALTER INDEX](../900.sql-statement-of-oracle-mode/100.ddl-of-oracle-mode/100.alter-index-of-oracle-mode.md).

Assuming there is an index named `index1` in the database, and you want to rename it to `index2`. The example is as follows:

```shell
obclient> ALTER INDEX index1 RENAME TO index2;
```

## References

* [About indexes](../../../../100.oceanbase-database-concepts/400.database-objects/100.database-objects-of-oracle-mode/300.index-of-oracle-mode/100.the-index-overview-of-oracle-mode.md)

* [Create an index](../../../../300.database-object-management/200.manage-object-of-oracle-mode/400.manage-indexes-of-oracle-mode/200.create-an-index-of-oracle-mode.md)
