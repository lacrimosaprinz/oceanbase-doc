| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   |                 |

# 常见的业务问题

在 OceanBase 数据库 V4.0 之前的版本，由于优化器的二阶段架构，通常会出现分布式计划选错连接算法的问题，大多数场景都是错误选择了 Nested Loops Join、Merge Join，遇到此类慢 SQL 问题，需要 DBA 手动控制优化器选择 Hash Join 算法（大多数场景都可以通过这个方式解决慢 SQL 问题）。

还有一类问题是因为统计信息不够准确，基表的行数估计严重偏小，优化器错误的认为 Nested Loops Join 是最优的连接算法，而实际上由于驱动表的数据量非常大，导致计划执行很慢。此时也需要 DBA 手动控制优化器选择其他连接算法，或者更换连接次序。通常都可以通过控制使用 Hash Join 算法解决。
