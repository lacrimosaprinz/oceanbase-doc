|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|

# 字符数据类型 

​字符类型将数字、字母等字符以字符串的形式存储。本节主要介绍最常用的字符数据类型。

字符串中的字节序列使用了某种字符编码方式，该字符编码方式通常被称为字符集。数据库使用字符集是在租户创建时指定的，例如 UTF8、GBK 字符集等。

字符类型一般包括长度语义、字节语义和字符语义。字符类型的长度语义定义了如何度量字符串的长度，按字节长度或者按字符个数。字节语义是将字符串当做字节序列处理，这是字符类型默认的选择。字符语义是将字符串当做字符序列，字符序列中的字符对应数据库字符集中的码位。

## VARCHAR2 和 CHAR 类型 

在数据库中，最常用的字符数据类型是 `VARCHAR2`，这也是最高效的存储方式。`VARCHAR2` 类型存储不定长的字符串常量，例如 'LILA'、'St. George Island' 和 '101' 都是字符串常量，它们的长度不相同。与数字常量（例如 5001）不同，字符串常量用单引号包裹起来，这样数据库可以区分出两者。

当创建一张表包含 `VARCHAR2` 列，用户可以定义 `VARCHAR2` 类型能存储字符串的最大长度，例如`VARCHAR2(25)` 表示最多存储 25 个字节。

对每一行，数据库能够存储列中的不同长度的值，如果数据长度超过了列定义的最大长度就会报错。向字符集为 UTF8 且最大长度为 25 的列中插入 10 个字符，列中存储的字符数为 10，而不是 25，因此使用`VARCHAR2` 可以减少存储空间消耗。相比之下，`CHAR` 存储定长的字符串，默认的定义长度为 1 字节，当实际的长度小于类型定义的长度时，数据库会使用空格将数据填充到定义的长度。

在 OceanBase 数据库 Oracle 模式下比较 `VARCHAR2` 类型时，按照非填充空格的模式进行比较；而比较 `CHAR` 类型时，按照填充空格的模式比较。

## NCHAR 和 NVARCHAR2 类型 

`NCHAR` 和 `NVARCHAR2` 类型用于存储 Unicode 字符数据。

Unicode 是通用的字符集，用一个字符集可以存储任何语言的字符。`NCHAR` 用于存储定长的字符串，`NVARCHAR2` 用于存储变长字符串，它们使用的字符集是国家字符集（National Character Set），国家字符集可以在租户创建时进行设置。国家字符集可以用于存储用户当地特殊字符，为了统一标准，国家字符集只能使用基于 Unicode 编码的字符集，例如 AL16UTF16 字符集或 UTF8 字符集。

当用户创建一张表包含 `NCHAR` 或 `NVARCHAR2` 的列时，它们的总是遵循字符语义。

