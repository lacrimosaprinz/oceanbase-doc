|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|

# 物化视图

## 概述

它与传统的视图不同，因为它实际上存储了查询结果的数据。简而言之，当您创建一个物化视图时，数据库执行与之关联的 SQL 查询，并将结果集存储在磁盘上。这样，当您从物化视图查询数据时，不需要执行复杂的 SQL 查询来重新计算数据，因为数据已经预先计算好并存储起来了。

## 物化视图的优势

- **性能提升**

  由于物化视图存储了预计算的数据，所以查询时不需要重复执行这些计算，这可以显著提高数据检索的速度，特别是在处理复杂聚合和联接操作时。

- **减少计算资源**

  再次执行复杂查询通常需要显著的 CPU 和内存资源。物化视图通过避免这些重复计算，有助于减少数据库服务器的负荷。

- **数据一致性**

  物化视图可以设计为定期刷新，这样可以保证它们包含最新的数据，同时还提供了一个一致的数据视图，这对于报表和数据分析来说非常重要。

- **增强的数据访问**

  物化视图可以作为数据访问层，支持复杂的业务逻辑，允许用户访问经预处理的数据，而无需关心背后的复杂 SQL 逻辑。

## 应用场景

- **AP 操作**

  在线分析处理（OLAP）时，物化视图可以极大地提高查询性能，特别是在执行数据聚合和多维分析时。

- **缓存计算密集型查询结果**

  对于那些需要消耗大量计算资源才能得到结果的查询，物化视图可以将这些结果缓存起来，以便快速访问。

- **减轻主数据库负载**

  通过在读取副本上创建物化视图，可以将复杂查询的压力从主数据库转移到读取副本，这在分布式数据库系统中特别有价值。

物化视图有很多优势，同时也有一些缺点，物化视图占用额外的存储空间，且需要管理更新策略以保持数据的新鲜度。因此，在决定是否使用物化视图时，需要权衡其带来的性能优势与维护成本之间的关系。正确的应用可以为数据库系统带来巨大的性能提升和效率优化。

## 限制

- 物化视图不支持表级恢复。
- 单独删除物化视图，物化视图不进回收站。删除数据库后，物化视图随被删除的数据库进回收站。
