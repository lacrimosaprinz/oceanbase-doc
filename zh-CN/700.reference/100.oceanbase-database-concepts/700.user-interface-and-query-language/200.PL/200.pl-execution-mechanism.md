# PL 执行机制 

​OceanBase 数据库的 PL 代码仅支持编译执行。本文主要介绍 PL 引擎与 OBServer 和 SQL 引擎间的执行机制。

编译执行相对于解释执行有更好的性能优势。尤其是在 PL 引擎内部计算元素比较多的场景下，性能提升会更加明显。

​在编译执行的框架下，PL 源代码会被直接编译为对应平台的可执行代码。PL 引擎执行时，OBServer 直接调用编译好的可执行代码。同时编译好的 PL 代码会被缓存在 PL 缓存中，因此同一个 PL 代码仅需要编译一次。

​![PL](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.2.1/700.reference/100.oceanbase-database-concepts/700.user-interface-and-query-language/200.pl-execution-mechanism/1.PL.png)

PL 代码在定义时被存储在 OBServer 中，当应用程序调用存储过程时，OBServer 首先从数据字典中读取 PL 代码的定义，然后将 PL 代码定义编译为可执行的二进制代码，将编译好的 PL 二进制代码存储进 PL 缓存。执行时 PL 引擎从 PL 缓存获取可执行代码，配合 SQL 引擎完成 PL 代码的执行。

​存储过程间可以嵌套调用，例如当前 PL 块可以调用另外的存储过程。
