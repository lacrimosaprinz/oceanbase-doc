| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   |                 |

# RESTORE PREVIEW

## 描述

该语句用于指定原始数据备份路径和日志归档路径及期望恢复的时间。

## 权限要求

执行该语句需要当前用户拥有 `ALTER SYSTEM` 权限。

## 语法

```sql
ALTER SYSTEM RESTORE FROM 'uri' UNTIL { TIME='timestamp' | SCN=scn } PREVIEW;
```

## 参数解释

|              **参数**       |                     **描述**                       |
|-----------------------------|----------------------------------------------------|
| uri                         | 指定原始数据备份路径和日志归档的路径，使用英文逗号分隔。|
| TIME='timestamp' \| SCN=scn | 指定期望恢复的时间戳或 SCN。执行该语句时，必须显式指定时间。|

## 示例

* 指定原始数据备份路径和日志归档路径，并且期望恢复到恢复到指定 scn `1712650554000909004`。

    ```shell
    ALTER SYSTEM RESTORE FROM 'file:///ob_backup/data, file:///ob_backup/archive' UNTIL SCN = 1712650554000909004 PREVIEW;
    ```

* 指定原始数据备份路径和日志归档路径，并且期望恢复到指定时间戳 `2024-04-09 16:15:54`。

    ```shell
    ALTER SYSTEM RESTORE FROM 'file:///ob_backup/data, file:///ob_backup/archive' UNTIL TIME = '2024-04-09 16:15:54' PREVIEW;
    ```

## 相关文档

* [ADD RESTORE SOURCE](120.add-restore-source.md)
* [执行指定路径的恢复](链接待添加)
