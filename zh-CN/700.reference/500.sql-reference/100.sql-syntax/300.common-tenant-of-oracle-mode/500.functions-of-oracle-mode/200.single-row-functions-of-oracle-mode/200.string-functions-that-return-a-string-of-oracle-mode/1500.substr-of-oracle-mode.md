| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# SUBSTR

## 描述

该函数功能是从字符串中截取子字符串。其中多字节字符（汉字、全角符等）按 `1` 个字符计算。

## 语法

```sql
SUBSTR(char1,n1[,n2])
```

## 参数解释

|  参数   |                                                                                                                                                                                                   说明                                                                                                                                                                                                    |
|-------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| char1 | 需要截取的字符串。字符串类型可为 `CHAR`、`VARCHAR2`、`NCHAR`、`NVARCHAR2` 或 `CLOB`。                                                                                                                                                                                                                                                                                                                                        |
| n1    | 截取字符串的开始位置，数据类型是 `NUMBER`。 <br>**说明**  <ul><li> 如果 `n1` 为 `0`，则将其视为 `1`，即从 `char1` 第一个字符开始截取。   </li><li> 如果 `n1` 为正，则从 `char1` 第 `n1` 个字符开始查找截取。   </li><li> 如果 `n1` 为负，则从 `char1` 的末尾开始倒数 `n1` 个字符，再开始查找截取。  </li></ul>    |
| n2    | 要截取的字符串的长度，数据类型是 `NUMBER`，为可选项。 <br>**说明**  <ul><li> 如果不指定 `n2`，则从第 `n1` 个字符开始截取到 `char1` 结束的字符串。  </li><li> 如果 `n2` 小于 `0`，则返回 `NULL`。 </li></ul>                                                                                                                                                                |

## 返回类型

返回与 `char1` 类型相同的数据类型。

## 示例

从字符串 `OceanBase` 的第 `1` 个字符开始截取 `5` 个字符和第 `-3` 个字符开始截取 `2.1` 个字符

```sql
obclient> SELECT SUBSTR('OceanBase',1,5) "SUBSTR1",SUBSTR('OceanBase',-3,2.1) "SUBSTR2" FROM DUAL;
+---------+---------+
| SUBSTR1 | SUBSTR2 |
+---------+---------+
| Ocean   | as      |
+---------+---------+
1 row in set
```
