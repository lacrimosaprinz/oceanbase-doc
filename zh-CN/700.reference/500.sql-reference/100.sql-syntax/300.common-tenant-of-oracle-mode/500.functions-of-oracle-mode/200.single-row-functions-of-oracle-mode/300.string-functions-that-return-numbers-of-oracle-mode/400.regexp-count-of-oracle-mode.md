| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# REGEXP_COUNT

## 描述

该函数返回正则匹配的值在源字符串中出现的次数。

## 语法

```sql
REGEXP_COUNT (source_char, pattern [, position [, match_param]])
```

## 参数解释

|     参数      |                                                                                                                                                                                       说明                                                                                                                                                                                        |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| source_char | 指定用作搜索值的字符表达式，数据类型可为 `CHAR`、`VARCHAR2`、`NCHAR`、`NVARCHAR2` 或 `CLOB`。                                                                                                                                                                                                                                                                                                            |
| pattern     | 指定正则表达式截取规则。它通常是一个文本文字，字符类型可为 `CHAR`、`VARCHAR2`、`NCHAR` 或 `NVARCHAR2`。 如果子表达式中有括号，会被忽略。例如，`12(34)5` 等效 `12345`。                                                                                                                                                                                                                                                 |
| position    | 指定开始正则表达式匹配的起始位置，取值是一个正整数，为可选项。默认值是 `1`，表示从第一个字符开始搜索 `source_char`。                                                                                                                                                                                                                                                                                                             |
| match_param | 指定更改正则表达式默认匹配方式，为可选项。该参数是数据类型 `VARCHAR2` 或 `CHAR` 的字符表达式。 <ul><li> `i` 表示大小写不敏感。  </li> <li> `c` 表示大小写敏感。   </li> <li> `n` 表示句点 `.` 可以匹配换行符。   </li> <li> `m` 表示多行模式。    </li> <li> `x` 表示忽略空格字符，默认情况下，空格字符会相互匹配。</li></ul>    |

## 返回类型

返回 `NUMBER` 数据类型。

## 示例

从第一个字符开始搜索并返回 `abc,def,ghi` 中逗号的个数。

```sql
obclient> SELECT REGEXP_COUNT('abc,def,ghi',',',1,'i') FROM DUAL;
+---------------------------------------+
| REGEXP_COUNT('ABC,DEF,GHI',',',1,'I') |
+---------------------------------------+
|                                     2 |
+---------------------------------------+
1 row in set
```
