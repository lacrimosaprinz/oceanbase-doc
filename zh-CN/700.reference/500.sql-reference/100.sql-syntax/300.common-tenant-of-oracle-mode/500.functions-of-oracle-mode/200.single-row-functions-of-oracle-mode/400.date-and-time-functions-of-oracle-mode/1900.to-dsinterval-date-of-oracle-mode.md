| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# TO_DSINTERVAL

## 描述

该函数将一个 `CHAR`、`VARCHAR2`、`NCHAR` 或 `NVARCHAR2` 数据类型的字符串转换为一个 `INTERVAL DAY TO SECOND` 数据类型的值，可以用来对一个日期时间值进行加减计算。

## 语法

```sql
/*SQL 日期格式*/
TO_DSINTERVAL ('[+ | -] days hours:minutes:seconds[.frac_secs]')

/*ISO 日期格式*/
TO_DSINTERVAL ('[-] P[days D]
[T[hours H][minutes M][seconds[.frac_secs]S]]')
```

## 参数解释

|                                   参数                                    |                                                                                                                                                                                            说明                                                                                                                                                                                            |
|-------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \[+ \| -\]days hours：minutes：seconds\[.frac_secs\]                      | 符合该参数格式的 `CHAR`、`VARCHAR2`、`NCHAR` 或 `NVARCHAR2` 数据类型的字符串。 <ul><li> `days` 表示天，取整数值，范围为 \[0,999999999\]。   </li><li> `hours` 表示小时，取整数值，范围为 \[0,23\]。   </li><li> `minutes` 表示分钟，取整数值，范围为 \[0,59\]。   </li><li>`seconds` 表示秒，取整数值，范围为 \[0,59\]。 </li></ul>    |
| \[-\] P\[days D\] \[T\[hours H\]\[minutes M\]\[seconds\[.frac_secs\]S\] | 符合该参数格式的 `CHAR`、`VARCHAR2`、`NCHAR` 或 `NVARCHAR2` 数据类型的字符串。<br> **注意**  值中不允许有空格。                                                                                                                                                                                                                                                                             |
| frac_secs                                                               | 表示秒的小数部分，取整数值，范围为 \[0,999999999\]。                                                                                                                                                                                                                                                                                                                                                       |

## 返回类型

返回 `INTERVAL DAY TO SECOND` 数据类型。

## 示例

* 以 SQL 格式返回 2021 年 11 月 11 日在 `100` 天后的日期时间值。

  ```sql
  obclient> SELECT TO_CHAR(TIMESTAMP '2021-11-11 00:00:00'+TO_DSINTERVAL('100 00:00:00'),
       'YYYY-MM-DD HH24:MI:SS') "Time Stamp" FROM DUAL;
  +---------------------+
  | Time Stamp          |
  +---------------------+
  | 2022-02-19 00:00:00 |
  +---------------------+
  1 row in set
  ```

* 以 ISO 格式返回 2021 年 12 月 12 日在 `100` 天 `10` 小时后的日期时间值。

  ```sql
  obclient> SELECT TO_CHAR(TIMESTAMP '2021-11-11 00:00:00'+TO_DSINTERVAL('P100DT5H'),
      'YYYY-MM-DD HH24:MI:SS') "Time Stamp" FROM DUAL;
  +---------------------+
  | Time Stamp          |
  +---------------------+
  | 2022-02-19 05:00:00 |
  +---------------------+
  1 row in set
  ```
