| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# ORA_HASH

## 描述

该函数的功能是计算对应表达式的哈希值。

## 语法

```sql
ORA_HASH(expr [, max_bucket [, seed_value ]])
```

## 参数解释

|     参数     |                              说明                               |
|------------|---------------------------------------------------------------|
| expr       | 通常为数据库表的列名，数据类型可以是数值类型、字符类型、日期时间类型或 `RAW` 类型。                 |
| max_bucket | 确定哈希函数返回的最大桶值，为可选项。取值范围为 \[0, 4294967295\]，默认值是 `4294967295`。 |
| seed_value | 使数据库能够为同一组数据生成不同的结果，为可选项。取值范围为 \[0, 4294967295\]，默认值为 `0`。    |

## 返回类型

返回一个 `NUMBER` 类型的数据值。

## 示例

创建表 `tbl1`，并向里面插入数据。使用 `ORA_HASH` 函数查询表 `tbl1` 的 `col1` 列的哈希值，将哈希值划分为最多 `10` 个桶，并将第三个参数设置为 `5`。

```sql
obclient> CREATE TABLE tbl1(col1 CHAR(6),col2 NUMBER(10,2));
Query OK, 0 rows affected

obclient> INSERT INTO tbl1 VALUES('ABC', 1000),('DEF', 1100),('GHI', 1200),('JKL', 1300),
    ('MNO', 1400),('PQR', 1500),('STU', 1600),('VWX', 1700),('YZ1', 1800),('234', 1900);
Query OK, 10 rows affected
Records: 10  Duplicates: 0  Warnings: 0

obclient> SELECT ORA_HASH(col1,10,5),col1,col2 FROM tbl1;
+---------------------+--------+------+
| ORA_HASH(COL1,10,5) | COL1   | COL2 |
+---------------------+--------+------+
|                   5 | ABC    | 1000 |
|                   3 | DEF    | 1100 |
|                   8 | GHI    | 1200 |
|                   3 | JKL    | 1300 |
|                   3 | MNO    | 1400 |
|                   1 | PQR    | 1500 |
|                   4 | STU    | 1600 |
|                   2 | VWX    | 1700 |
|                  10 | YZ1    | 1800 |
|                   5 | 234    | 1900 |
+---------------------+--------+------+
10 rows in set
```
