| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | MySQL Mode      |

# ASH_REPORT

`ASH_REPORT` 过程用于以文本形式显示 ASH 报告。

## 语法

```sql
 PROCEDURE ASH_REPORT(BTIME         IN DATE,
                       ETIME         IN DATE,
                       SQL_ID        IN VARCHAR2  DEFAULT NULL,
                       TRACE_ID      IN VARCHAR2  DEFAULT NULL,
                       WAIT_CLASS    IN VARCHAR2  DEFAULT NULL,
                       REPORT_TYPE   IN VARCHAR2  DEFAULT 'text'
                       SVR_IP        IN VARCHAR2  DEFAULT NULL,
                       SVR_PORT      IN NUMBER    DEFAULT NULL
                     );
```

## 参数说明

| **参数** | **说明** |
| --- | --- |
| BTIME | 采样开始时间。 |
| ETIME | 采样结束时间。 |
| SQL_ID | 待采样 SQL 的 `SQL_ID`，不填或填 `NULL` 则表示不限制 `SQL_ID`。 |
| TRACE_ID | 待采样 SQL 的 `TRACE_ID`，不填或填 `NULL` 则表示不限制 `TRACE_ID`。 |
| WAIT_CLASS | 待采样的事件类型。`WAIT_CLASS` 取值参考 `GV$ACTIVE_SESSION_HISTORY.WAIT_CLASS` 字段的取值，不填或填 `NULL` 则表示不限制等待类型。 |
| REPORT_TYPE | 报告类型，目前仅支持 `TEXT` 类型，可不填写。 |
| SVR_IP | 用于指定生成 ASH Report 的节点 IP。 |
| SVR_PORT | 用于指定生成 ASH Report 的节点端口。|

## 使用说明

获取 ASH 相关信息需要查询 `GV$ACTIVE_SESSION_HISTORY` 视图获取。

## 示例

调用 `ASH_REPORT`，输入需要诊断的开始时间和结束时间以及节点 IP 和端口。执行后，ASH 报告信息将显示在界面上。

先 `use oceanbase` 库中，执行如下命令:

```sql
obclient> CALL DBMS_WORKLOAD_REPOSITORY.ASH_REPORT('2024-02-22 19:26:47', '2024-05-22 19:27:07', null, null, null, 'text', '172.30.xxx.xxx', 28xx)\G
```

示例输出结果如下：

```shell
REPORT:
# ASH Report

----
           Sample Begin: 2024-02-22 19:26:47
             Sample End: 2024-05-22 19:27:07
             ----------
    Analysis Begin Time: 2024-04-09 18:06:41
      Analysis End Time: 2024-04-10 10:17:51
           Elapsed Time: 58270
          Num of Sample: 3345
          Num of Events: 3345
Average Active Sessions: 0.06
----

## Top User Events:
+----------------------------------------------------------------+--------------------+---------+
|                                                           Event|          WAIT_CLASS|  % Event|
+----------------------------------------------------------------+--------------------+---------+
|                                              CPU + Wait for CPU|               OTHER|   92.68%|
|                                                      palf write|           SYSTEM_IO|    4.13%|
|                                           db file compact write|           SYSTEM_IO|    0.87%|
|                                       slog flush condition wait|         CONCURRENCY|    0.84%|
|                                            db file compact read|           SYSTEM_IO|    0.33%|
|                               wait for network request in queue|             NETWORK|    0.33%|
|                                  async rpc proxy condition wait|             NETWORK|    0.30%|
|                                             exec inner sql wait|               OTHER|    0.18%|
|                                                      sleep wait|                IDLE|    0.15%|
|                                          default condition wait|         CONCURRENCY|    0.09%|
|                                        latch: ls meta lock wait|         CONCURRENCY|    0.06%|
|                                               db file data read|             USER_IO|    0.03%|
|                                                       palf read|           SYSTEM_IO|    0.03%|
+----------------------------------------------------------------+--------------------+---------+

## Top Events P1/P2/P3 Value:
+----------------------------------------------------------------+----------+------------+--------------------------------------------------+--------------------+--------------------+--------------------+
|                                                           Event|   % Event|  % Activity|                                      Max P1/P2/P3|         Parameter 1|         Parameter 2|         Parameter 3|
+----------------------------------------------------------------+----------+------------+--------------------------------------------------+--------------------+--------------------+--------------------+
|                                              CPU + Wait for CPU|    92.68%|     92.676%|                                           0, 0, 0|                    |                    |                    |
|                                                      palf write|     4.13%|      4.126%|                               392, 66932736, 8192|                  fd|              offset|                size|
|                                           db file compact write|     0.87%|      0.867%|                                        8192, 0, 0|                  fd|              offset|                size|
|                                       slog flush condition wait|     0.84%|      0.837%|                             140457622383208, 0, 0|             address|                    |                    |
|                                            db file compact read|     0.33%|      0.329%|                                         269, 0, 0|                  fd|              offset|                size|
|                               wait for network request in queue|     0.33%|      0.329%|                                        5387, 0, 5|               pcode|               level|            priority|
|                                  async rpc proxy condition wait|     0.30%|      0.299%|                             140455719004696, 0, 0|             address|                    |                    |
|                                             exec inner sql wait|     0.18%|      0.179%|                              60001, 3221730378, 0|wait inner sql class|    inner session id|                    |
|                                                      sleep wait|     0.15%|      0.149%|                                     5000000, 0, 0|      sleep_interval|                    |                    |
|                                          default condition wait|     0.09%|      0.090%|                             140455518712072, 0, 0|             address|                    |                    |
+----------------------------------------------------------------+----------+------------+--------------------------------------------------+--------------------+--------------------+--------------------+

## Top Phase of Execution:
+----------------------------------------+------------+--------------+--------------------+
|                      Phase of Execution|  % Activity|  Sample Count| Avg Active Sessions|
+----------------------------------------+------------+--------------+--------------------+
|                         IN_STORAGE_READ|      0.299%|            10|               0.000|
|                        IN_SQL_EXECUTION|      0.090%|             3|               0.000|
|                           IN_COMMITTING|      0.090%|             3|               0.000|
|                        IN_STORAGE_WRITE|      0.030%|             1|               0.000|
|                                IN_PARSE|      0.000%|             0|               0.000|
|                             IN_PL_PARSE|      0.000%|             0|               0.000|
|                           IN_PLAN_CACHE|      0.000%|             0|               0.000|
|                         IN_SQL_OPTIMIZE|      0.000%|             0|               0.000|
|                         IN_PX_EXECUTION|      0.000%|             0|               0.000|
|                        IN_SEQUENCE_LOAD|      0.000%|             0|               0.000|
|                 IN_REMOTE_DAS_EXECUTION|      0.000%|             0|               0.000|
+----------------------------------------+------------+--------------+--------------------+

## Top SQL with Top Events
 - All events included.
 - Empty ''SQL Text'' if it is PL/SQL query
+----------------------------------------+------------+-------------------------+----------------------------------------------------------------+------------+------------------------------------------------------------+
|                                  SQL ID|     PLAN ID|  Sampled # of Executions|                                                           Event|     % Event|                                                    SQL Text|
+----------------------------------------+------------+-------------------------+----------------------------------------------------------------+------------+------------------------------------------------------------+
|                                        |           0|                     3098|                                              CPU + Wait for CPU|      92.62%|                                                            |
|                                        |           0|                      138|                                                      palf write|       4.13%|                                                            |
|                                        |           0|                       29|                                           db file compact write|       0.87%|                                                            |
|                                        |           0|                       28|                                       slog flush condition wait|       0.84%|                                                            |
|                                        |           0|                       11|                                            db file compact read|       0.33%|                                                            |
|                                        |           0|                       11|                               wait for network request in queue|       0.33%|                                                            |
|                                        |           0|                       10|                                  async rpc proxy condition wait|       0.30%|                                                            |
|                                        |           0|                        5|                                             exec inner sql wait|       0.15%|                                                            |
|                                        |           0|                        5|                                                      sleep wait|       0.15%|                                                            |
|                                        |           0|                        3|                                          default condition wait|       0.09%|                                                            |
|                                        |           0|                        2|                                        latch: ls meta lock wait|       0.06%|                                                            |
|        B55ED8C22C0F42F36BA9240174BA1A0E|        1333|                        1|                                              CPU + Wait for CPU|       0.03%|     SELECT DBMS_WORKLOAD_REPOSITORY.ASH_REPORT_TEXT(:0, :1,|
|        B55ED8C22C0F42F36BA9240174BA1A0E|        1349|                        1|                                              CPU + Wait for CPU|       0.03%|     SELECT DBMS_WORKLOAD_REPOSITORY.ASH_REPORT_TEXT(:0, :1,|
|        B55ED8C22C0F42F36BA9240174BA1A0E|        1395|                        1|                                             exec inner sql wait|       0.03%|     SELECT DBMS_WORKLOAD_REPOSITORY.ASH_REPORT_TEXT(:0, :1,|
|                                        |           0|                        1|                                                       palf read|       0.03%|                                                            |
|                                        |           0|                        1|                                               db file data read|       0.03%|                                                            |
+----------------------------------------+------------+-------------------------+----------------------------------------------------------------+------------+------------------------------------------------------------+

## Top SQL with Top Blocking Events
 - Empty result if no event other than On CPU sampled
 - Empty ''SQL Text'' if it is PL/SQL query
+----------------------------------------+------------+-------------------------+----------------------------------------------------------------+------------+------------------------------------------------------------+
|                                  SQL ID|     PLAN ID|  Sampled # of Executions|                                                           Event|     % Event|                                                    SQL Text|
+----------------------------------------+------------+-------------------------+----------------------------------------------------------------+------------+------------------------------------------------------------+
|                                        |           0|                      138|                                                      palf write|       4.13%|                                                            |
|                                        |           0|                       29|                                           db file compact write|       0.87%|                                                            |
|                                        |           0|                       28|                                       slog flush condition wait|       0.84%|                                                            |
|                                        |           0|                       11|                                            db file compact read|       0.33%|                                                            |
|                                        |           0|                       11|                               wait for network request in queue|       0.33%|                                                            |
|                                        |           0|                       10|                                  async rpc proxy condition wait|       0.30%|                                                            |
|                                        |           0|                        5|                                                      sleep wait|       0.15%|                                                            |
|                                        |           0|                        3|                                          default condition wait|       0.09%|                                                            |
|                                        |           0|                        2|                                        latch: ls meta lock wait|       0.06%|                                                            |
|                                        |           0|                        1|                                                       palf read|       0.03%|                                                            |
|                                        |           0|                        1|                                               db file data read|       0.03%|                                                            |
+----------------------------------------+------------+-------------------------+----------------------------------------------------------------+------------+------------------------------------------------------------+

## Complete List of SQL Text:
  SQL ID: B55ED8C22C0F42F36BA9240174BA1A0E
 PLAN ID: 1333
SQL Text: SELECT DBMS_WORKLOAD_REPOSITORY.ASH_REPORT_TEXT(:0, :1,:2,:3,:4, :6, :7) AS REPORT

  SQL ID: B55ED8C22C0F42F36BA9240174BA1A0E
 PLAN ID: 1349
SQL Text: SELECT DBMS_WORKLOAD_REPOSITORY.ASH_REPORT_TEXT(:0, :1,:2,:3,:4, :6, :7) AS REPORT

  SQL ID: B55ED8C22C0F42F36BA9240174BA1A0E
 PLAN ID: 1395
SQL Text: SELECT DBMS_WORKLOAD_REPOSITORY.ASH_REPORT_TEXT(:0, :1,:2,:3,:4, :6, :7) AS REPORT


## Top PL/SQL Procedures
-> ''PL/SQL entry subprogram'' represents the application''s top-level
      entry-point(procedure, function, trigger, package initialization)
      into PL/SQL.
-> ''PL/SQL current subprogram'' is the pl/sql subprogram being executed
      at the point of sampling . If the value is ''SQL'', it represents
           the percentage of time spent executing SQL for the particular
      plsql entry subprogram
-> ''PL/SQL entry subprogram'' represents the application''s top-level
+------------------------------------------------------------+------------------------------------------------------------+--------------------+
|                                      PLSQL Entry Subprogram|                                    PLSQL Current Subprogram|          % Activity|
+------------------------------------------------------------+------------------------------------------------------------+--------------------+
|                                                           .|                                                           -|               0.09%|
|                                                           -|                                                           .|               0.06%|
+------------------------------------------------------------+------------------------------------------------------------+--------------------+

## Top Sessions:
 - ''# Samples Active'' shows the number of ASH samples in which the blocking session was found active.
+--------------------+----------------------+----------------------------------------------------------------+------------+------------------------------+--------------------+------------------------------+
|                 Sid|            % Activity|                                                           Event| Event Count|                       % Event|                User|              # Samples Active|
+--------------------+----------------------+----------------------------------------------------------------+------------+------------------------------+--------------------+------------------------------+
|       3659312136192|                33.48%|                                              CPU + Wait for CPU|        1120|                        33.48%|                    |             1120/58270[1.92%]|
|       3551937953792|                 8.55%|                                              CPU + Wait for CPU|         286|                         8.55%|                    |              286/58270[0.49%]|
|       3620657430528|                 6.16%|                                              CPU + Wait for CPU|         206|                         6.16%|                    |              206/58270[0.35%]|
|       3118146256896|                 5.59%|                                              CPU + Wait for CPU|         187|                         5.59%|                    |              187/58270[0.32%]|
|       4604204941312|                 3.35%|                                              CPU + Wait for CPU|         112|                         3.35%|                    |              112/58270[0.19%]|
|       4608499908608|                 3.26%|                                              CPU + Wait for CPU|         109|                         3.26%|                    |              109/58270[0.19%]|
|       3693671874560|                 2.72%|                                              CPU + Wait for CPU|          91|                         2.72%|                    |               91/58270[0.16%]|
|       3045131812864|                 2.21%|                                                      palf write|          74|                         2.21%|                    |               74/58270[0.13%]|
|       3049426780160|                 1.91%|                                                      palf write|          64|                         1.91%|                    |               64/58270[0.11%]|
|       3539053051904|                 1.85%|                                              CPU + Wait for CPU|          62|                         1.85%|                    |               62/58270[0.11%]|
|       3440268804096|                 1.73%|                                              CPU + Wait for CPU|          58|                         1.73%|                    |               58/58270[0.10%]|
|       3109556322304|                 1.67%|                                              CPU + Wait for CPU|          56|                         1.67%|                    |               56/58270[0.10%]|
|       3096671420416|                 1.49%|                                              CPU + Wait for CPU|          50|                         1.49%|                    |               50/58270[0.09%]|
|       3165390897152|                 1.46%|                                              CPU + Wait for CPU|          49|                         1.46%|                    |               49/58270[0.08%]|
|       3015067041792|                 1.43%|                                              CPU + Wait for CPU|          48|                         1.43%|                    |               48/58270[0.08%]|
|       3410204033024|                 1.41%|                                              CPU + Wait for CPU|          47|                         1.41%|                    |               47/58270[0.08%]|
|       3040836845568|                 1.17%|                                              CPU + Wait for CPU|          39|                         1.17%|                    |               39/58270[0.07%]|
|       3569117822976|                 1.14%|                                              CPU + Wait for CPU|          38|                         1.14%|                    |               38/58270[0.07%]|
|       3122441224192|                 0.84%|                                              CPU + Wait for CPU|          28|                         0.84%|                    |               28/58270[0.05%]|
|       3483218477056|                 0.84%|                                           db file compact write|          28|                         0.84%|                    |               28/58270[0.05%]|
|       2997887172608|                 0.75%|                                              CPU + Wait for CPU|          25|                         0.75%|                    |               25/58270[0.04%]|
|       3680786972672|                 0.72%|                                              CPU + Wait for CPU|          24|                         0.72%|                    |               24/58270[0.04%]|
|       3036541878272|                 0.72%|                                              CPU + Wait for CPU|          24|                         0.72%|                    |               24/58270[0.04%]|
|       4621384810496|                 0.69%|                                              CPU + Wait for CPU|          23|                         0.69%|                    |               23/58270[0.04%]|
|       3032246910976|                 0.69%|                                              CPU + Wait for CPU|          23|                         0.69%|                    |               23/58270[0.04%]|
|       3066606649344|                 0.69%|                                              CPU + Wait for CPU|          23|                         0.69%|                    |               23/58270[0.04%]|
|       3624952397824|                 0.69%|                                              CPU + Wait for CPU|          23|                         0.69%|                    |               23/58270[0.04%]|
|       3109556322304|                 0.66%|                                       slog flush condition wait|          22|                         0.66%|                    |               22/58270[0.04%]|
|       3612067495936|                 0.63%|                                              CPU + Wait for CPU|          21|                         0.63%|                    |               21/58270[0.04%]|
|       3139621093376|                 0.51%|                                              CPU + Wait for CPU|          17|                         0.51%|                    |               17/58270[0.03%]|
|       3530463117312|                 0.51%|                                              CPU + Wait for CPU|          17|                         0.51%|                    |               17/58270[0.03%]|
|       3049426780160|                 0.48%|                                              CPU + Wait for CPU|          16|                         0.48%|                    |               16/58270[0.03%]|
|       3444563771392|                 0.48%|                                              CPU + Wait for CPU|          16|                         0.48%|                    |               16/58270[0.03%]|
|       3075196583936|                 0.48%|                                              CPU + Wait for CPU|          16|                         0.48%|                    |               16/58270[0.03%]|
|       3667902070784|                 0.42%|                                              CPU + Wait for CPU|          14|                         0.42%|                    |               14/58270[0.02%]|
|       3676492005376|                 0.39%|                                              CPU + Wait for CPU|          13|                         0.39%|                    |               13/58270[0.02%]|
|       3590592659456|                 0.39%|                                              CPU + Wait for CPU|          13|                         0.39%|                    |               13/58270[0.02%]|
|        176093659136|                 0.36%|                                              CPU + Wait for CPU|          12|                         0.36%|                    |               12/58270[0.02%]|
|       4634269712384|                 0.33%|                                              CPU + Wait for CPU|          11|                         0.33%|                    |               11/58270[0.02%]|
|       3045131812864|                 0.33%|                                              CPU + Wait for CPU|          11|                         0.33%|                    |               11/58270[0.02%]|
|                   0|                 0.33%|                               wait for network request in queue|          11|                         0.33%|                    |               11/58270[0.02%]|
|       3504693313536|                 0.30%|                                              CPU + Wait for CPU|          10|                         0.30%|                    |               10/58270[0.02%]|
|       3096671420416|                 0.30%|                                  async rpc proxy condition wait|          10|                         0.30%|                    |               10/58270[0.02%]|
|       3586297692160|                 0.27%|                                              CPU + Wait for CPU|           9|                         0.27%|                    |                9/58270[0.02%]|
|       4638564679680|                 0.24%|                                              CPU + Wait for CPU|           8|                         0.24%|                    |                8/58270[0.01%]|
|       3023656976384|                 0.24%|                                              CPU + Wait for CPU|           8|                         0.24%|                    |                8/58270[0.01%]|
|       3521873182720|                 0.18%|                                              CPU + Wait for CPU|           6|                         0.18%|                    |                6/58270[0.01%]|
|       3624952397824|                 0.18%|                                       slog flush condition wait|           6|                         0.18%|                    |                6/58270[0.01%]|
|       3629247365120|                 0.15%|                                              CPU + Wait for CPU|           5|                         0.15%|                    |                5/58270[0.01%]|
|       3543348019200|                 0.15%|                                              CPU + Wait for CPU|           5|                         0.15%|                    |                5/58270[0.01%]|
|       3637837299712|                 0.15%|                                                      sleep wait|           5|                         0.15%|                    |                5/58270[0.01%]|
|       3423088934912|                 0.15%|                                              CPU + Wait for CPU|           5|                         0.15%|                    |                5/58270[0.01%]|
|       3027951943680|                 0.15%|                                              CPU + Wait for CPU|           5|                         0.15%|                    |                5/58270[0.01%]|
|       3019362009088|                 0.15%|                                              CPU + Wait for CPU|           5|                         0.15%|                    |                5/58270[0.01%]|
|       3689376907264|                 0.15%|                                              CPU + Wait for CPU|           5|                         0.15%|                    |                5/58270[0.01%]|
|       3414499000320|                 0.15%|                                              CPU + Wait for CPU|           5|                         0.15%|                    |                5/58270[0.01%]|
|       3483218477056|                 0.12%|                                              CPU + Wait for CPU|           4|                         0.12%|                    |                4/58270[0.01%]|
|       3500398346240|                 0.12%|                                              CPU + Wait for CPU|           4|                         0.12%|                    |                4/58270[0.01%]|
|       3418793967616|                 0.12%|                                              CPU + Wait for CPU|           4|                         0.12%|                    |                4/58270[0.01%]|
|       4642859646976|                 0.12%|                                              CPU + Wait for CPU|           4|                         0.12%|                    |                4/58270[0.01%]|
|       3672197038080|                 0.12%|                                              CPU + Wait for CPU|           4|                         0.12%|                    |                4/58270[0.01%]|
|       3650722201600|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3633542332416|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3070901616640|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3431678869504|                 0.09%|                                          default condition wait|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3186865733632|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3204045602816|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3427383902208|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3560527888384|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3216930504704|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3405909065728|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3431678869504|                 0.09%|                                              CPU + Wait for CPU|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3508988280832|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|       4664334483456|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|       4612794875904|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|       3564822855680|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|       3118146256896|                 0.06%|                                             exec inner sql wait|           2|                         0.06%|                    |                2/58270[0.00%]|
|       3173980831744|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|       3697966841856|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|       4629974745088|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|       3199750635520|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|       3689376907264|                 0.06%|                                        latch: ls meta lock wait|           2|                         0.06%|                    |                2/58270[0.00%]|
|       3728031612928|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|          3221736237|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                root|                2/58270[0.00%]|
|       3646427234304|                 0.06%|                                              CPU + Wait for CPU|           2|                         0.06%|                    |                2/58270[0.00%]|
|       3388729196544|                 0.03%|                                            db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|        176093659136|                 0.03%|                                               db file data read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3616362463232|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3053721747456|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3594887626752|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       6597069766656|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3655017168896|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       6459630813184|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       4651449581568|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3556232921088|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3706556776448|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       4599909974016|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3058016714752|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3272765079552|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3010772074496|                 0.03%|                                              CPU + Wait for CPU|           1|                         0.03%|                    |                1/58270[0.00%]|
+--------------------+----------------------+----------------------------------------------------------------+------------+------------------------------+--------------------+------------------------------+

## Top Blocking Sessions:
 - Blocking session activity percentages are calculated with respect to waits on latches and locks only.
 - ''# Samples Active'' shows the number of ASH samples in which the session was found waiting for that particular event. The percentage shown in this column is calculated with respect to wall time.
+--------------------+----------------------+----------------------------------------+------------+------------------------------+--------------------+------------------------------+
|        Blocking Sid|            % Activity|                            Event Caused| Event Count|                       % Event|                User|              # Samples Active|
+--------------------+----------------------+----------------------------------------+------------+------------------------------+--------------------+------------------------------+
|       3045131812864|                 2.21%|                              palf write|          74|                         2.21%|                    |               74/58270[0.13%]|
|       3049426780160|                 1.91%|                              palf write|          64|                         1.91%|                    |               64/58270[0.11%]|
|       3483218477056|                 0.84%|                   db file compact write|          28|                         0.84%|                    |               28/58270[0.05%]|
|       3109556322304|                 0.66%|               slog flush condition wait|          22|                         0.66%|                    |               22/58270[0.04%]|
|                   0|                 0.33%|       wait for network request in queue|          11|                         0.33%|                    |               11/58270[0.02%]|
|       3096671420416|                 0.30%|          async rpc proxy condition wait|          10|                         0.30%|                    |               10/58270[0.02%]|
|       3624952397824|                 0.18%|               slog flush condition wait|           6|                         0.18%|                    |                6/58270[0.01%]|
|       3637837299712|                 0.15%|                              sleep wait|           5|                         0.15%|                    |                5/58270[0.01%]|
|       3431678869504|                 0.09%|                  default condition wait|           3|                         0.09%|                    |                3/58270[0.01%]|
|       3689376907264|                 0.06%|                latch: ls meta lock wait|           2|                         0.06%|                    |                2/58270[0.00%]|
|        176093659136|                 0.03%|                       db file data read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3388729196544|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3384434229248|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3362959392768|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3358664425472|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3332894621696|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3380139261952|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3345779523584|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3337189588992|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3624952397824|                 0.03%|                               palf read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3246995275776|                 0.03%|                   db file compact write|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3225520439296|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3547642986496|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
|       3676492005376|                 0.03%|                    db file compact read|           1|                         0.03%|                    |                1/58270[0.00%]|
+--------------------+----------------------+----------------------------------------+------------+------------------------------+--------------------+------------------------------+

## Top latches:
+----------------------------------------------------------------+--------------------+--------------------+
|                                                           Latch|       Sampled Count|          % Activity|
+----------------------------------------------------------------+--------------------+--------------------+
|                                        latch: ls meta lock wait|                   2|               0.06%|
+----------------------------------------------------------------+--------------------+--------------------+

## Node Load:
+----------------------------------------+--------------------+--------------------+--------------------+------------------------------+
|                                  SVR IP|            SVR PORT|       Sampled Count|     Idle Wait Count|                          Load|
+----------------------------------------+--------------------+--------------------+--------------------+------------------------------+
|                          172.30.xxx.xxx|                28xx|                3345|                   5|                          0.05|
+----------------------------------------+--------------------+--------------------+--------------------+------------------------------+

1 row in set (0.152 sec)

Query OK, 0 rows affected (0.154 sec)
```
