| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# DBMS_PROFILER 概述

`DBMS_PROFILER` 系统包用来记录 PL 中每一行的执行情况，并将结果汇总起来，详细展示 PL 执行过程中每一条语句的执行时间。

<main id="notice" >
    <h4>功能适用性</h4>
    <p>该内容仅适用于 OceanBase 数据库企业版。OceanBase 数据库社区版仅提供 MySQL 模式。</p>
  </main>

## DBMS_PROFILER 权限说明

该系统包权限为 `AUTHID CURRENT_USER`。

## 子程序概览

下表列出了 OceanBase 数据库当前版本所支持的 `DBMS_PROFILER` 子程序和简要描述。

| **子程序** | **描述** |
| --- | --- |
|start_profiler|启动性能剖析器，启动后会记录当前 session 上 PL 的执行情况。|
|stop_profiler|关闭性能剖析器，关闭后将结果汇总到数据统计表。|
|pause_profiler|暂停性能剖析器，暂停后会暂时停止记录执行情况。|
|resume_profiler|恢复性能剖析器，恢复记录执行情况。|
|flush_data|将数据汇总到数据统计表。|
|get_version|返回当前 DBMS_PROFILER 版本。|
|internal_version_check|校验数据库版本与 DBMS_PROFILER 版本是否匹配。|
|rollup_unit|计算某次执行中某个单元的执行时间。|
|rollup_run|计算某次执行的总时间。|
|ob_init_objects|OceanBase 数据库特有，在用户 schema 下创建数据统计表。|
|ob_drop_objects|OceanBase 数据库特有，用户 schema 下删除数据统计表。|
