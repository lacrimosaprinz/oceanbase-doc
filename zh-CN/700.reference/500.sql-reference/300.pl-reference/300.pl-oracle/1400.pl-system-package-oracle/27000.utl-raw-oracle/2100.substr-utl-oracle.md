| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# SUBSTR 

`SUBSTR` 函数用于返回 `len` 个字节，从 `RAW r` 的 `pos` 位开始计算。

  <main id="notice" >
    <h4>功能适用性</h4>
    <p>该内容仅适用于 OceanBase 数据库企业版。OceanBase 数据库社区版仅提供 MySQL 模式。</p>
  </main>

## 语法 

```sql
UTL_RAW.SUBSTR (
   r   IN RAW,
   pos IN BINARY_INTEGER,
   len IN BINARY_INTEGER DEFAULT NULL) 
  RETURN RAW;
```



## 参数解释 

| **参数** |                  **解释**                  |
|--------|------------------------------------------|
| r      | 从 RAW 中提取的部分字节的字符串。                   |
| pos    | `r` 中开始提取字节的位置。                          |
| len    | 从 `r` 提取到的字节数，从`RAW r`的 `pos` 位开始计算（可选）。 |



## 默认值和可选参数 

| **可选参数** |        **描述**        |
|----------|----------------------|
| len      | 从 `pos` 定位到 `r` 的末尾。 |



## 返回值 

|   **返回值**    |           **描述**            |
|--------------|-----------------------------|
| portion of r | 从 `pos` 位开始计算长度为 `len` 个字节。 |
| NULL         | `r` 的输入参数为 `NULL`。            |



## 使用说明 

* 如果 `pos` 为正，则 `SUBSTR` 从 `r` 的开头计数以找到第一个字节。 如果 pos 为负，则 SUBSTR 从 `r` 的末尾开始倒数。`pos` 值不能为 0。 

* 如果省略 `len`，则 `SUBSTR` 将所有字节返回到 `r` 的末尾。`len` 值不能小于1。


## 异常情况 


|   **异常**   |        **描述**           |
|-------------|-----------------------------|
| VALUE_ERROR | 下述情况可能会返回 `VALUE_ERROR`： <ul><li> `pos` 等于 0 或者大于 `r` 的长度 </li> <li> `len` 小于 1 或者大于 `r - (pos - 1)` 的值。</li></ul>    |



