| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# RELEASE

`RELEASE` 用来显式释放先前使用该函数获取的锁 REQUEST。`RELEASE` 子程序目前不能解锁 `release_on_commit = true` 场景下的锁。

<main id="notice" >
    <h4>功能适用性</h4>
    <p>该内容仅适用于 OceanBase 数据库企业版。OceanBase 数据库社区版仅提供 MySQL 模式。</p>
  </main>

## 语法

```sql
DBMS_LOCK.RELEASE (
   id         IN INTEGER)
  RETURN INTEGER;

DBMS_LOCK.RELEASE (
   lockhandle IN VARCHAR2)
  RETURN INTEGER;
```

## 参数解释

| **参数**  |                              **解释**                              |
|---------|------------------------------------------------------------------|
| id 或 lockhandle | ALLOCATE_UNIQUE 用户分配的锁定标识符，从 0 到 1073741823，或要更改的锁定模式的锁定句柄。|

## 返回值

`RELEASE` 子程序会返回一个整型值，表示操作的成功或失败。返回值为 0 时表示释放锁成功,其他返回值解释如下表所示。

| 返回值 | 描述 |
| --- | --- |
| 0 | 成功。 |
| 3 | 参数错误。 |
| 4 | 不拥有 id 或指定的锁 lockhandle。|
| 5 | 非法的 lockhandle。|

## 示例

```sql
DECLARE
  lockhandle IN VARCHAR2(128);
  RETURN     INTEGER;
```
