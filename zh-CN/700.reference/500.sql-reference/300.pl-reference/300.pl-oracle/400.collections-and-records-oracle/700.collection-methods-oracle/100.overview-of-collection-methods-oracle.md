| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# 集合方法概述 

集合方法属于 PL 子程序，可以是返回有关集合信息的函数或是对集合进行操作的过程。

  <main id="notice" >
    <h4>功能适用性</h4>
    <p>该内容仅适用于 OceanBase 数据库企业版。OceanBase 数据库社区版仅提供 MySQL 模式。</p>
  </main>

集合方法使集合更易于使用与维护。

  <main id="notice" type='explain'>
    <h4>说明</h4>
    <p>对于空集合，<code>EXISTS</code> 是唯一不会引发预定义异常 <code>COLLECTION_IS_NULL</code> 的集合方法。</p>
  </main>

OceanBase 数据库所支持的集合方法如下表所示。


| **方法** | **类型** |              **描述**               |
|--------|--------|-----------------------------------|
| DELETE | 存储过程   | 删除集合中的元素。                         |
| TRIM   | 存储过程   | 从可变数组或嵌套表的末尾删除元素。                 |
| EXTEND | 存储过程   | 将元素添加到可变数组或嵌套表的末尾。                |
| EXISTS | 函数     | 当且仅当存在可变数组或嵌套表的所指定元素时，才返回 `TRUE`。 |
| FIRST  | 函数     | 返回集合中的第一个索引。                      |
| LAST   | 函数     | 返回集合中的最后一个索引。                     |
| COUNT  | 函数     | 返回集合中元素的数量。                       |
| LIMIT  | 函数     | 返回集合可以容纳的最大元素数量。                  |
| PRIOR  | 函数     | 返回指定索引之前的索引。                      |
| NEXT   | 函数     | 返回在指定索引之后的索引。                     |



调用集合方法的基本语法如下：

```javascript
collection_name.method
```



集合方法可以在其类型（函数或过程）的 PL 子程序中调用，但不能在 SQL 语句中调用。

在子程序中，集合参数采用与其绑定的参数的属性。您可以将集合方法应用于此类参数。对于可变数组参数，无论参数模式如何，`LIMIT` 的值始终从参数类型定义中得出。
