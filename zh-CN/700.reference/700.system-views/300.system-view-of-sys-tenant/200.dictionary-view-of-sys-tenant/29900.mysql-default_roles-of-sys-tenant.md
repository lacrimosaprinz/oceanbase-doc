|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# mysql.default_roles

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.2.3 版本开始引入。</p>
</main>

## 功能描述

视图 `mysql.default_roles` 用于展示用户默认启用的角色信息。

## 字段说明

| **字段** | **类型** | **是否为 NULL** | **描述** |
| -------- | -------- | --------------- | -------- |
| HOST              | varchar(255) | NO   | 账户 Host 名字     |
| USER              | varchar(128) | NO   | 账户名     |
| DEFAULT_ROLE_HOST | varchar(255) | NO   | 默认启用的 Role 的 Host 名字     |
| DEFAULT_ROLE_USER | varchar(128) | NO   | 默认启用的 Role 的账户名     |

## 查询示例

1. 新建角色 `role1`。

    ```shell
    obclient [oceanbase]> CREATE ROLE IF NOT EXISTS role1;
    Query OK, 0 rows affected, 1 warning
    ```

2. 查询 Warning 信息。

    ```shell
    obclient [oceanbase]> SHOW WARNINGS;

    ```

    查询结果如下：

    ```shell
    +-------+------+---------------------------------------------+
    | Level | Code | Message                                     |
    +-------+------+---------------------------------------------+
    | Note  | 3163 | Authorization ID 'role1'@'%' already exists |
    +-------+------+---------------------------------------------+
    1 row in set (0.002 sec)
    ```

3. 将 `ALTER SYSTEM` 管理权限授予角色 `role1`。

    ```shell
    obclient [oceanbase]> GRANT ALTER SYSTEM ON *.* TO role1;
    ```

4. 查询用户默认启用的角色信息。

    ```shell
    obclient > SELECT * FROM mysql.default_roles;
    ```

    查询结果如下：

    ```shell
    +------+---------+-------------------+-------------------+
    | HOST | USER    | DEFAULT_ROLE_HOST | DEFAULT_ROLE_USER |
    +------+---------+-------------------+-------------------+
    | %    | user001 | %                 | role001           |
    | %    | user001 | %                 | role002           |
    +------+---------+-------------------+-------------------+
    2 rows in set (0.008 sec)
    ```

## 相关视图或文档

[mysql.role_edges](29800.mysql-role_edges-of-sys-tenant.md)