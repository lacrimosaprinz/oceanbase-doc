|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# GV$OB_COMPACTION_PROGRESS

## 功能

展示租户的 OBServer 节点级合并进度信息。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>从 V4.0.0 版本开始引入。</p>
</main>

## 字段说明

|          字段名称           |      类型      | 是否可以为 NULL |                                            描述                                            |
|-------------------------|--------------|------------|--------|
| SVR_IP                  | varchar(46)  | NO         | 服务器 IP 地址                                                                                |
| SVR_PORT                | bigint(20)   | NO         | 服务器端口号|
| TENANT_ID               | bigint(20)   | NO         | 租户 ID |
| TYPE                    | varchar(64)  | NO         | compaction 的类型 <li> `MINI` ：转储/L0 compaction，Memtable 通过转储变成 SSTable   <li> `MAJOR` ：合并   <li> `MINI MINOR` ：L1 compaction，多个 Mini SSTable 合成一个   <li> `BUF MINOR` ：生成特殊的 buf minor sstable 的 compaction    |
| ZONE                    | varchar(128) | NO         | Zone 信息                                                                                  |
| COMPACTION_SCN                 |bigint(20) unsigned  | NO         | 合并版本信息|
| STATUS                  | varchar(15)  | NO         | 状态信息  |
| TOTAL_TABLET_COUNT      | bigint(20)   | NO         | TABLET 总数                                                                                |
| UNFINISHED_TABLET_COUNT | bigint(20)   | NO         | 未完成的 TABLET 数量                                                                           |
| DATA_SIZE               | bigint(20)   | NO         | 需要扫描的总数据量                                                                                |
| UNFINISHED_DATA_SIZE    | bigint(20)   | NO         | 还未需要扫描的数据量                                                                               |
| COMPRESSION_RATIO       | double       | NO         | 新数据的压缩率：仅记录上一个 major version 点之后新写入数据的压缩率                                                |
| START_TIME              | timestamp(6) | NO         | 开始时间  |
| ESTIMATED_FINISH_TIME   | timestamp(6) | NO         | 预计完成时间：若 compaction_progress 为 100，则展示结束时间                                               |
| COMMENTS         | varchar(256) | NO  | 对窗口的描述   |
