|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# plsql_ccflags

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该变量从 V3.0.0_CE 版本开始引入。</p>
</main>

## 功能描述

`plsql_ccflags` 用于独立控制每个 PL/SQL 单元的条件编译。

<main id="notice">
  <h4>功能适用性</h4>
  <p>该变量仅适用于 OceanBase 数据库 Oracle 模式。</p>
</main>

## 属性说明

| 属性 |  描述   |
|-----|---------|
| 参数类型   |  varchar                   |
| 默认值     |  N/A                  |
| 取值范围   | 符合 PL Compiler 规范的字符串       |
| 生效范围   | <ul><li>Global</li><li>Session</li></ul>     |
| 是否可修改 | 是，支持通过 `SET` 语句修改。|

## 使用说明

* `plsql_ccflags` 的配置格式为 `plsql_ccflags= '<v1>:<c1>,<v2>:<c2>,...,<vn>:<cn>'` 其中

  * vi 是一个 PL/SQL Identifier，大小写不敏感，可以是一个保留关键字。
  * ci 是 vi 对应的值，可以是一个 Boolean、pls_integer 或者 NULL，大小写不敏感。

* 常用符合 PL Compiler 规范的字符串有下面几种：

  * `debug:TRUE`：启用调试模式，生成额外的调试信息，以便在调试代码时更轻松地追踪变量的值、代码流、错误信息等。

  * `optimization:TRUE`：启用优化模式，这个选项会尝试对代码进行优化以提高执行效率，但有时可能会影响调试能力。

  * `warn:all`：启用所有警告信息，编译器会输出所有可能的警告信息，帮助开发者发现潜在的问题。

  * `restrict_references:TRUE`：限制对包的引用，防止在包被修改时引起问题。

  * `parse:PARTIAL`：进行部分编译而不是完整编译，可以用来提高编译速度。

  * `code_coverage:TRUE`：开启代码覆盖率测试，用于评估代码的测试覆盖率。

  * `error_on_overwrite:FALSE`：当设置为 FALSE 时，允许在编译时覆盖包的存储。

## 配置示例

设置启用 PL/SQL 代码的调试模式。

* Session 生效

  ```shell
  obclient> SET plsql_ccflags = 'debug:TRUE';
  ```

* Global 生效

  ```shell
  obclient> SET GLOBAL plsql_ccflags = 'debug:TRUE';
  ```

## 相关文档

[CREATE TYPE](../../../../700.reference/500.sql-reference/300.pl-reference/300.pl-oracle/1100.ddl-operations-on-stored-pl-units-oracle/1200.create-type-oracle.md)
